(function(t){function e(e){for(var i,r,s=e[0],c=e[1],u=e[2],p=0,d=[];p<s.length;p++)r=s[p],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},a={app:0},o=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/CFE-scoreboard/dist/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0cbd":function(t,e,n){"use strict";var i=n("da4b"),a=n.n(i);a.a},"1ac8":function(t,e,n){},"239e":function(t,e,n){},"296e":function(t,e,n){"use strict";var i=n("e31f"),a=n.n(i);a.a},"3c2b":function(t,e,n){"use strict";var i=n("6c9c"),a=n.n(i);a.a},"41f6":function(t,e,n){"use strict";var i=n("239e"),a=n.n(i);a.a},"6c9c":function(t,e,n){},"78cc":function(t,e,n){},"8a21":function(t,e,n){},"91d1":function(t,e,n){"use strict";var i=n("1ac8"),a=n.n(i);a.a},"9c3c":function(t,e,n){},ad59:function(t,e,n){"use strict";var i=n("8a21"),a=n.n(i);a.a},b50b:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i,a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view",{attrs:{id:"app"}})},r=[],s=(n("cf25"),n("2877")),c={},u=Object(s["a"])(c,o,r,!1,null,null,null),l=u.exports,p=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("DashBoard",{attrs:{pos:"foe"}}),n("DashBoard",{attrs:{pos:"friend"}}),n("gear"),t._l(t.$store.state.rules.slice(1),(function(t){return n(t,{key:t,tag:"component"})}))],2)},f=[],v=(n("0d03"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.pos},[n("div",{ref:"hp",staticClass:"hp bot left right btn spot"},[t._v(t._s(t.health))]),n("div",{ref:"personal",staticClass:"personal"},t._l(t.count,(function(e){return n("div",{key:e,staticClass:"person bot left right spot"},[n("div",{ref:"sp",refInFor:!0,staticClass:"shield bot left right btn spot",on:{click:function(n){t.popup(t.shield[e-1],"for-sp",t.setShield(e-1))}}},[t._v(t._s(t.shield[e-1]))]),n("portal-target",{attrs:{name:""+t.pos+(e-1),multiple:""}})],1)})),0)])}),h=[],m=(n("d81d"),n("9f12")),y=n("53fe"),b=n("8b83"),g=n("c65a"),O=n("c03e"),j=n("9ab4"),x=n("60a3"),k=n("4bb5"),_=n("fb3a"),w=n.n(_),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.container,"spot"],attrs:{hidden:""}},[n("div",{staticClass:"row"},[n("div",{staticClass:"output"},[t._v(t._s(t.result)+" "+t._s(t.formula))]),n("div",{staticClass:"btn btn-primary enter",on:{click:t.equal}},[t._v("=")])]),n("div",{staticClass:"row"},[n("div",{staticClass:"btn btn-primary num",on:{click:function(e){return t.append("7")}}},[t._v("7")]),n("div",{staticClass:"btn btn-primary num",on:{click:function(e){return t.append("8")}}},[t._v("8")]),n("div",{staticClass:"btn btn-primary num",on:{click:function(e){return t.append("9")}}},[t._v("9")]),n("div",{staticClass:"btn btn-info op",on:{click:function(e){return t.append("+")}}},[t._v("+")])]),n("div",{staticClass:"row"},[n("div",{staticClass:"btn btn-primary num",on:{click:function(e){return t.append("4")}}},[t._v("4")]),n("div",{staticClass:"btn btn-primary num",on:{click:function(e){return t.append("5")}}},[t._v("5")]),n("div",{staticClass:"btn btn-primary num",on:{click:function(e){return t.append("6")}}},[t._v("6")]),n("div",{staticClass:"btn btn-info op",on:{click:function(e){return t.append("-")}}},[t._v("-")])]),n("div",{staticClass:"row"},[n("div",{staticClass:"btn btn-primary num",on:{click:function(e){return t.append("1")}}},[t._v("1")]),n("div",{staticClass:"btn btn-primary num",on:{click:function(e){return t.append("2")}}},[t._v("2")]),n("div",{staticClass:"btn btn-primary num",on:{click:function(e){return t.append("3")}}},[t._v("3")]),n("div",{staticClass:"btn btn-info op",on:{click:function(e){return t.append("*")}}},[t._v("*")])]),n("div",{staticClass:"row"},[n("div",{staticClass:"btn btn-primary num",on:{click:function(e){return t.append("0")}}},[t._v("0")]),n("div",{staticClass:"btn btn-danger",on:{click:t.clean}},[t._v("C")]),n("div",{staticClass:"btn btn-default",on:{click:t.pop}},[t._v("Del")]),n("div",{staticClass:"btn btn-info op",on:{click:function(e){return t.append("/")}}},[t._v("/")])])])},T=[],S=(n("99af"),n("a15b"),n("fb6a"),n("4e82"),n("a434"),n("07ac"),n("4d63"),n("ac1f"),n("25f0"),n("38cf"),n("5319"),n("e587")),I=n("284c"),P=n("2fa7"),$=function(){function t(){Object(m["a"])(this,t),this._symbols={},this.defineOperator("**",Math.pow,"infix",5,!0),this.defineOperator("*",this.multiplication,"infix",4),this.defineOperator("/",this.division,"infix",4),this.defineOperator("+",this.last,"prefix",3),this.defineOperator("-",this.negation,"prefix",3),this.defineOperator("+",this.addition,"infix",2),this.defineOperator("-",this.subtraction,"infix",2),this.defineOperator("(",this.last,"prefix"),this.defineOperator(")",null,"postfix")}return Object(y["a"])(t,[{key:"defineOperator",value:function(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"func",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];"func"==i&&(a=0),this._symbols[t]=Object.assign({},this._symbols[t],(n={},Object(P["a"])(n,i,{symbol:t,f:e,notation:i,precedence:a,rightToLeft:o,argCount:1+("infix"==i)}),Object(P["a"])(n,"symbol",t),Object(P["a"])(n,"regSymbol",t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")+(/\w$/.test(t)?"\\b":"")),n))}},{key:"last",value:function(){var t;return t=arguments.length-1,t<0||arguments.length<=t?void 0:arguments[t]}},{key:"negation",value:function(t){return-t}},{key:"addition",value:function(t,e){return t+e}},{key:"subtraction",value:function(t,e){return t-e}},{key:"multiplication",value:function(t,e){return t*e}},{key:"division",value:function(t,e){return t/e}},{key:"calculate",value:function(t){var e,n=[],i=[this._symbols["("].prefix],a=function(t){var e,a=i.pop();return n.push(a.f.apply(a,Object(I["a"])((e=[]).concat.apply(e,Object(I["a"])(n.splice(-a.argCount)))))),a.precedence},o=function(n){var i=e?e.index:t.length;return"".concat(n," at ").concat(i,":\n").concat(t,"\n").concat(" ".repeat(i),"^")},r=new RegExp("\\d+(?:\\.\\d+)?|"+Object.values(this._symbols).sort((function(t,e){return e.symbol.length-t.symbol.length})).map((function(t){return t.regSymbol})).join("|")+"|(\\S)","g"),s=!1;r.lastIndex=0;do{e=r.exec(t);var c=e||[")",void 0],u=Object(S["a"])(c,2),l=u[0],p=u[1],d=this._symbols[l],f=d&&!d.prefix&&!d.func,v=!d||!(d.postfix||d.infix);if(p||(s?v:f))return o("Syntax error");if(s){var h=d.postfix||d.infix;do{var m=i[i.length-1];if((h.precedence-m.precedence||m.rightToLeft)>0)break}while(a());s="postfix"==h.notation,")"!=h.symbol&&(i.push(h),s&&a())}else if(d){if(i.push(d.prefix||d.func),d.func&&(e=r.exec(t),!e||"("!=e[0]))return o("Function needs parentheses")}else n.push(+l),s=!0}while(e&&i.length);return i.length?o("Missing closing parenthesis"):e?o("Too many closing parentheses"):n.pop()}}]),t}(),M=new $,A={name:"calculator",props:["initial","container","handler"],data:function(){return{formula:"",result:this.initial}},methods:{append:function(t){this.formula+=t},pop:function(){this.formula.length?this.formula=this.formula.slice(0,-1):this.result="".concat(this.result).slice(0,-1)},equal:function(){this.result=M.calculate(this.result+this.formula),this.formula="",this.handler(this.result),this.$emit("close")},clean:function(){this.formula="",this.result=this.initial}}},R=A,E=(n("dfca"),Object(s["a"])(R,C,T,!1,null,"1bf82b5d",null)),D=E.exports;(function(t){t[t["decrease"]=-1]="decrease",t[t["initial"]=0]="initial",t[t["increase"]=1]="increase"})(i||(i={}));var z=function(t){function e(){var t;return Object(m["a"])(this,e),t=Object(b["a"])(this,Object(g["a"])(e).apply(this,arguments)),t.pinchActivated=i.initial,t}return Object(O["a"])(e,t),Object(y["a"])(e,[{key:"setHealth",value:function(t){this.$store.commit("base/setHealth",{pos:this.pos,payload:t}),t<1&&this.toggleIngame()}},{key:"setShield",value:function(t){var e=this;return function(n){return e.$store.commit("base/setShield",{pos:e.pos,index:t,payload:n})}}},{key:"popup",value:function(t,e,n){this.$modal.show(D,{initial:t,container:e,handler:n},{width:"85vmin",height:"85vmin",pivotX:0,pivotY:0})}},{key:"mounted",value:function(){var t=this;w()(this.personal).gesturable({onmove:function(e){var n=e.scale;t.ingame||(1.5<n&&t.pinchActivated<i.increase?(t.pinchActivated++,navigator.vibrate&&navigator.vibrate(1),t.stepCount(1)):n<.5&&i.decrease<t.pinchActivated?(t.pinchActivated--,navigator.vibrate&&navigator.vibrate(1),t.stepCount(-1)):.5<n&&n<1.5&&i.initial!=t.pinchActivated&&(t.stepCount(-t.pinchActivated),navigator.vibrate&&navigator.vibrate(1),t.pinchActivated=i.initial))},onend:function(){t.pinchActivated=i.initial}}),w()(this.hp).on("tap",(function(){t.popup(t.health,"for-hp",t.setHealth)})).draggable({}).dropzone({accept:".hp",ondropactivate:function(t){var e=t.target,n=t.relatedTarget;n!=e&&e.classList.add("drop-activated")},ondropdeactivate:function(t){var e=t.target;t.relatedTarget;e.classList.remove("drop-activated")},ondrop:function(){t.$store.commit("base/swap")}})}},{key:"beforeDestroy",value:function(){w()(this.personal).unset(),w()(this.hp).unset()}}]),e}(x["d"]);Object(j["a"])([Object(x["b"])()],z.prototype,"pos",void 0),Object(j["a"])([Object(k["b"])((function(t){return t.base[this.pos].health}))],z.prototype,"health",void 0),Object(j["a"])([Object(k["b"])((function(t){return t.base[this.pos].shield.map((function(t){return 0<t?t:""}))}))],z.prototype,"shield",void 0),Object(j["a"])([k["b"]],z.prototype,"count",void 0),Object(j["a"])([k["b"]],z.prototype,"ingame",void 0),Object(j["a"])([k["b"]],z.prototype,"rules",void 0),Object(j["a"])([k["a"]],z.prototype,"stepCount",void 0),Object(j["a"])([k["a"]],z.prototype,"toggleIngame",void 0),Object(j["a"])([Object(x["c"])()],z.prototype,"hp",void 0),Object(j["a"])([Object(x["c"])()],z.prototype,"personal",void 0),z=Object(j["a"])([x["a"]],z);var L=z,H=L,J=(n("91d1"),n("f9d0"),Object(s["a"])(H,v,h,!1,null,"bf2a3a54",null)),B=J.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",[t.folded?n("div",{key:"setting",staticClass:"setting btn spot",class:{ingame:!t.ingame},on:{click:function(e){t.folded=!t.folded}}},[n("font-awesome-icon",{attrs:{icon:"cogs"}})],1):n("div",{key:"overlay",staticClass:"overlay",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.folded=!t.folded}}},[n("div",{key:"menu",staticClass:"menu"},[n("div",{staticClass:"btn btn-danger",on:{click:function(e){return t.everyRule({action:"initialize"})}}},[t._v("初始化")]),n("p-check",{staticClass:"p-switch p-fill",attrs:{color:"success"},model:{value:t.star,callback:function(e){t.star=e},expression:"star"}},[t._v(" 星辰")]),n("p-check",{staticClass:"p-switch p-fill",attrs:{color:"success"},model:{value:t.environment,callback:function(e){t.environment=e},expression:"environment"}},[t._v(" 環境")]),n("p-check",{staticClass:"p-switch p-fill",attrs:{color:"success"},model:{value:t.spirit,callback:function(e){t.spirit=e},expression:"spirit"}},[t._v(" 精靈")])],1)])])},N=[],q=(n("caad"),n("2532"),n("2624")),X=n.n(q),Y=function(t){function e(){var t;return Object(m["a"])(this,e),t=Object(b["a"])(this,Object(g["a"])(e).apply(this,arguments)),t.folded=!0,t}return Object(O["a"])(e,t),Object(y["a"])(e,[{key:"toggleRule",value:function(t,e){e?this.addRule(t):this.removeRule(t)}},{key:"star",get:function(){return this.rules.includes("star")},set:function(t){this.toggleRule("star",t)}},{key:"environment",get:function(){return this.rules.includes("environment")},set:function(t){this.toggleRule("environment",t)}},{key:"spirit",get:function(){return this.rules.includes("spirit")},set:function(t){this.toggleRule("spirit",t)}}]),e}(x["d"]);Object(j["a"])([k["b"]],Y.prototype,"rules",void 0),Object(j["a"])([k["b"]],Y.prototype,"ingame",void 0),Object(j["a"])([k["a"]],Y.prototype,"everyRule",void 0),Object(j["a"])([k["a"]],Y.prototype,"addRule",void 0),Object(j["a"])([k["a"]],Y.prototype,"removeRule",void 0),Y=Object(j["a"])([Object(x["a"])({components:{pCheck:X.a}})],Y);var G,K=Y,Q=K,U=(n("3c2b"),n("fc52"),Object(s["a"])(Q,F,N,!1,null,"1bec4b6c",null)),V=U.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"env",staticClass:"env btn spot"},[t.font?n("font-awesome-icon",{attrs:{icon:t.font}}):t._e()],1)},Z=[],tt=(n("b64b"),Object(k["c"])("environment"));(function(t){t["metal"]="cat",t["fire"]="phoenix-framework",t["water"]="water",t["earth"]="mountain",t["wood"]="dragon",t[""]=""})(G||(G={}));var et=function(t){function e(){var t;return Object(m["a"])(this,e),t=Object(b["a"])(this,Object(g["a"])(e).apply(this,arguments)),t.moving=!1,t.moveType="",t.dy=0,t}return Object(O["a"])(e,t),Object(y["a"])(e,[{key:"mounted",value:function(){var t=this;w()(this.env).draggable({lockAxis:"y",onstart:function(){t.moving=!0,t.moveType=t.font},onmove:function(e){var n=e.dy;t.dy-=n,t.dy<0?t.moveType="":t.dy<100?t.moveType="mountain":100<t.dy&&t.dy<200?t.moveType="phoenix-framework":200<t.dy&&t.dy<300?t.moveType="water":300<t.dy&&t.dy<400?t.moveType="dragon":t.moveType="cat"},onend:function(){t.moving=!1,t.dy=0;for(var e=0,n=Object.keys(G);e<n.length;e++){var i=n[e];if(G[i]==t.moveType)return t.change(i),void(t.moveType="")}}}).on("tap",(function(){t.change("")}))}},{key:"beforeDestroy",value:function(){w()(this.env).unset()}}]),e}(x["d"]);Object(j["a"])([tt.State((function(t){var e=this.moving?this.moveType:G[t.type];return"phoenix-framework"==e&&(e=["fab","phoenix-framework"]),e}))],et.prototype,"font",void 0),Object(j["a"])([tt.Mutation],et.prototype,"change",void 0),Object(j["a"])([Object(x["c"])()],et.prototype,"env",void 0),et=Object(j["a"])([x["a"]],et);var nt=et,it=nt,at=(n("0cbd"),Object(s["a"])(it,W,Z,!1,null,"5f054456",null)),ot=at.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.star,(function(e,i){return t._l(e.summoned,(function(a,o){return n("portal",{key:i+o,attrs:{slim:"",to:i+o,order:2}},[n("div",{staticClass:"starbox"},t._l(a,(function(t,e){return n("font-awesome-icon",{key:e,class:["meteor",e,{summoned:t,spot:t}],attrs:{icon:"star","data-pos":i,"data-index":o,"data-type":e}})})),1),n("transition",[0==o?n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e.type,expression:"s.type"}],staticClass:"star btn spot",class:e.type,attrs:{icon:"star","data-pos":i}}):t._e()],1)],1)}))}))],2)},st=[],ct=Object(k["c"])("star"),ut=function(t){function e(){return Object(m["a"])(this,e),Object(b["a"])(this,Object(g["a"])(e).apply(this,arguments))}return Object(O["a"])(e,t),Object(y["a"])(e,[{key:"mounted",value:function(){var t=this;w()(".star").on("tap",(function(e){var n=e.currentTarget;t.eliminate(n.dataset.pos)})),w()(".meteor").on("tap",(function(e){var n=e.currentTarget,i=n.dataset,a=i.pos,o=i.index,r=i.type;t.toggle({pos:a,index:o,type:r})}))}},{key:"beforeDestroy",value:function(){w()(".star").unset(),w()(".meteor").unset()}}]),e}(x["d"]);Object(j["a"])([k["b"]],ut.prototype,"star",void 0),Object(j["a"])([ct.Mutation],ut.prototype,"toggle",void 0),Object(j["a"])([ct.Mutation],ut.prototype,"eliminate",void 0),ut=Object(j["a"])([x["a"]],ut);var lt=ut,pt=lt,dt=(n("41f6"),Object(s["a"])(pt,rt,st,!1,null,"636cd6ff",null)),ft=dt.exports,vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.spirit,(function(e,i){return t._l(e,(function(e,a){return n("portal",{key:i+a,attrs:{slim:"",to:i+a,order:1}},[n("integer-plusminus",{attrs:{max:e.type?6:0,value:e.point},on:{input:function(e){return t.setPoint({pos:i,index:a,payload:e})}}},[n("font-awesome-icon",{class:["slider",t.selected(i,a)?t.moveType:e.type],attrs:{icon:"ghost","data-pos":i,"data-index":a}}),e.type?n("div",[t._v(t._s(e.point))]):t._e()],1)],1)}))}))],2)},ht=[],mt=n("604d"),yt=Object(k["c"])("spirit"),bt=function(t){function e(){var t;return Object(m["a"])(this,e),t=Object(b["a"])(this,Object(g["a"])(e).apply(this,arguments)),t.movePos="",t.moveIndex=-1,t.moveType="",t.dx=0,t.dy=0,t}return Object(O["a"])(e,t),Object(y["a"])(e,[{key:"selected",value:function(t,e){return this.movePos==t&&this.moveIndex==e}},{key:"mounted",value:function(){var t=this;w()(".slider").draggable({onstart:function(e){var n=e.currentTarget;t.movePos=n.dataset.pos,t.moveIndex=n.dataset.index},onmove:function(e){var n=e.dx,i=e.dy;t.dx+=n,"foe"==t.movePos&&matchMedia("(max-aspect-ratio: 1/1)").matches?t.dy+=i:t.dy-=i,t.dx<t.dy?t.dy<0?t.moveType="":t.dy<100?t.moveType="earth":100<t.dy&&t.dy<200?t.moveType="fire":200<t.dy&&t.dy<300?t.moveType="water":300<t.dy&&t.dy<400?t.moveType="wood":t.moveType="metal":t.moveType=""},onend:function(){0<t.dy&&t.dx<t.dy?t.spawn({pos:t.movePos,index:t.moveIndex,type:t.moveType}):0<t.dx&&t["void"](),t.movePos="",t.moveIndex=-1,t.moveType="",t.dy=t.dx=0}}).on("tap",(function(e){var n=e.currentTarget;t.setPoint({pos:n.dataset.pos,index:n.dataset.index,payload:0})}))}},{key:"beforeDestroy",value:function(){w()(".slider").unset()}}]),e}(x["d"]);Object(j["a"])([k["b"]],bt.prototype,"spirit",void 0),Object(j["a"])([yt.Mutation],bt.prototype,"setPoint",void 0),Object(j["a"])([yt.Mutation],bt.prototype,"spawn",void 0),Object(j["a"])([yt.Mutation],bt.prototype,"void",void 0),bt=Object(j["a"])([Object(x["a"])({components:{IntegerPlusminus:mt["a"]}})],bt);var gt=bt,Ot=gt,jt=(n("296e"),Object(s["a"])(Ot,vt,ht,!1,null,"65169b7c",null)),xt=jt.exports;document.addEventListener("touchstart",(function(t){t.touches.length>1&&t.preventDefault()}),{passive:!1});var kt=0;document.addEventListener("touchend",(function(t){var e=(new Date).getTime();e-kt<=300&&t.preventDefault(),kt=e}),!1);var _t={name:"home",components:{DashBoard:B,gear:V,environment:ot,star:ft,spirit:xt}},wt=_t,Ct=(n("ad59"),Object(s["a"])(wt,d,f,!1,null,"01481a65",null)),Tt=Ct.exports;a["default"].use(p["a"]);var St,It,Pt=[{path:"/",name:"home",component:Tt}],$t=new p["a"]({mode:"history",base:"/CFE-scoreboard/dist/",routes:Pt}),Mt=(n("a4d3"),n("e01a"),n("d28b"),n("cb29"),n("c975"),n("d3b7"),n("3ca3"),n("ddb0"),n("2f62"));function At(){return{metal:!1,wood:!1,water:!1,fire:!1,earth:!1}}function Rt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return{foe:{type:"",summoned:Array(t).fill(1).map(At)},friend:{type:"",summoned:Array(t).fill(1).map(At)}}}(function(t){t["foe"]="friend",t["friend"]="foe"})(St||(St={})),function(t){t["metal"]="fire",t["fire"]="water",t["water"]="earth",t["earth"]="wood",t["wood"]="metal"}(It||(It={}));var Et={star:{namespaced:!0,state:Rt,mutations:{toggle:function(t,e){var n=e.pos,i=e.index,a=e.type;t[n].summoned[i][a]&&t[n].type?t[n].summoned[i][a]=!1:t[St[n]].type!=a&&t[n].type!=a&&(t[n].summoned[i][a]=!0,t[n].type=a,a==It[t[St[n]].type]&&(t[St[n]].type=""))},eliminate:function(t,e){t[e].type=""}},actions:{initialize:function(t){var e=t.state,n=t.rootState,i=n.count;Object.assign(e,Rt(i))}}},environment:{namespaced:!0,state:function(){return{type:""}},mutations:{change:function(t,e){t.type=e}},actions:{initialize:function(t){var e=t.state;e.type=""}}},spirit:{namespaced:!0,state:function(){return{foe:[{type:"",point:0},{type:"",point:0}],friend:[{type:"",point:0},{type:"",point:0}]}},mutations:{setPoint:function(t,e){var n=e.pos,i=e.index,a=e.payload;console.log(n,i,a),t[n][i].point=a,t[n][i].point<1&&(t[n][i].type="",t[n][i].point=0)},spawn:function(t,e){var n=e.pos,i=e.index,a=e.type;t[n][i].type=a,t[n][i].point=2},void:function(t){for(var e=0,n=["foe","friend"];e<n.length;e++){var i=n[e],a=!0,o=!1,r=void 0;try{for(var s,c=t[i][Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var u=s.value;u.type&&(2<u.point?u.point-=2:(u.type="",u.point=0))}}catch(l){o=!0,r=l}finally{try{a||null==c["return"]||c["return"]()}finally{if(o)throw r}}}}},actions:{initialize:function(t){var e=t.state,n=t.rootState,i=n.count;e.foe=Array(i).fill(1).map((function(t){return{type:"",point:0}})),e.friend=Array(i).fill(1).map((function(t){return{type:"",point:0}}))}}}},Dt=(n("a623"),function(t){var e=!1;localStorage.getItem("store")&&(t.replaceState(JSON.parse(localStorage.getItem("store"))),e=!0);var n=!0,i=!1,a=void 0;try{for(var o,r=t.state.rules.slice(1)[Symbol.iterator]();!(n=(o=r.next()).done);n=!0){var s=o.value;t.registerModule(s,Et[s],{preserveState:e})}}catch(u){i=!0,a=u}finally{try{n||null==r["return"]||r["return"]()}finally{if(i)throw a}}onpopstate=function(e){var n=e.state;t.replaceState(n),localStorage.setItem("store",JSON.stringify(n))};var c=function(e,n){if(!e.type.includes("/")||e.type.includes("/initialize")||n.ingame||t.commit("toggleIngame"),"base/setHealth"==e.type&&e.payload<1&&t.commit("toggleIngame"),"star/toggle"==e.type){var i=e.payload,a=i.pos,o=i.index,r=Object.values(n.star[a].summoned[o]).every(Boolean);r&&t.commit("toggleIngame")}console.dir(e),localStorage.setItem("store",JSON.stringify(n)),history.pushState(n,"")};t.subscribe(c)});a["default"].use(Mt["a"]);var zt={namespaced:!0,state:function(){return{foe:{health:250,shield:[0,0]},friend:{health:250,shield:[0,0]}}},mutations:{setHealth:function(t,e){var n=e.pos,i=e.payload;t[n].health=i},swap:function(t){var e=[t.friend.health,t.foe.health];t.foe.health=e[0],t.friend.health=e[1]},setShield:function(t,e){var n=e.pos,i=e.index,a=e.payload;t[n].shield.splice(i,1,a)}},actions:{initialize:function(t){var e=t.state,n=t.rootState,i=150+50*n.count;for(var a in e)e[a].health=i,e[a].shield=Array(n.count).fill(0)}}},Lt=new Mt["a"].Store({state:function(){return{count:2,ingame:!1,rules:["base"]}},modules:{base:zt},mutations:{everyRule:function(t,e){var n=e.action,i=e.mutation;if(!t.ingame){var a=!0,o=!1,r=void 0;try{for(var s,c=t.rules[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var u=s.value;i&&this.commit("".concat(u,"/").concat(i)),n&&this.dispatch("".concat(u,"/").concat(n))}}catch(l){o=!0,r=l}finally{try{a||null==c["return"]||c["return"]()}finally{if(o)throw r}}}},stepCount:function(t,e){t.ingame||(t.count+=e,this.commit({type:"everyRule",action:"initialize"}))},toggleIngame:function(t){t.ingame=!t.ingame},addRule:function(t,e){t.ingame||(t.rules.push(e),this.registerModule(e,Et[e]),this.dispatch("".concat(e,"/initialize")))},removeRule:function(t,e){t.ingame||(t.rules.splice(t.rules.indexOf(e),1),this.unregisterModule(e))}},plugins:[Dt]}),Ht=Lt,Jt=n("ecee"),Bt=n("c074"),Ft=n("f2d1"),Nt=n("ad3d"),qt=n("2b88"),Xt=n.n(qt),Yt=n("1881"),Gt=n.n(Yt);Jt["c"].add(Bt["b"],Ft["a"],Bt["c"],Bt["a"],Bt["g"],Bt["e"],Bt["f"],Bt["d"]),a["default"].use(Xt.a),a["default"].use(Gt.a,{dynamic:!0,injectModalsContainer:!0}),a["default"].component("font-awesome-icon",Nt["a"]),a["default"].config.productionTip=!1,new a["default"]({router:$t,store:Ht,render:function(t){return t(l)}}).$mount("#app")},cf25:function(t,e,n){"use strict";var i=n("fea6"),a=n.n(i);a.a},da4b:function(t,e,n){},dfca:function(t,e,n){"use strict";var i=n("9c3c"),a=n.n(i);a.a},e31f:function(t,e,n){},f9d0:function(t,e,n){"use strict";var i=n("b50b"),a=n.n(i);a.a},fc52:function(t,e,n){"use strict";var i=n("78cc"),a=n.n(i);a.a},fea6:function(t,e,n){}});
//# sourceMappingURL=app.1c5f0560.js.map